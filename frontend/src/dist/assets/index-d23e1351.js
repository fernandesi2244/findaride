import{a as L,r as E,o as v,c as y,b as p,d,w as f,e as c,f as P,g as R,h as I}from"./vendor-ef93eb73.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const o of e.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function i(t){if(t.ep)return;t.ep=!0;const e=r(t);fetch(t.href,e)}})();const l="/api",_="/auth",$={login:`${_}/login/`,signup:`${_}/signup/`,isLoggedIn:`${_}/is-logged-in/`,activate:`${_}/activate/`,me:`${_}/me/`,trip:`${l}/trip/`,tripRequest:`${l}/trip-request/`,userTrips:`${l}/user-trips/`,deleteTripRequest:`${l}/delete-trip-request/`,confirmationRequests:`${l}/confirmation-requests/`,joinRequests:`${l}/join-requests/`};const O=(s,n)=>{const r=s.__vccOpts||s;for(const[i,t]of n)r[i]=t;return r},x={data(){return{isLoggedIn:!1}},created(){this.checkLoginStatus()},methods:{async checkLoginStatus(){const s=$["is-logged-in"],n=await L.get(s);this.isLoggedIn=n.data.isAuthenticated}}},A={id:"app",class:"box"},k={style:{"margin-bottom":"20px"}},q={class:"nav-content"},T={key:0},N={class:"text-size"},S={key:1},V={class:"text-size"},B={class:"right"};function C(s,n,r,i,t,e){const o=E("router-link"),g=E("router-view");return v(),y("div",A,[p("nav",k,[p("div",q,[t.isLoggedIn?(v(),y("div",T,[p("span",N,[d(o,{to:"/"},{default:f(()=>[c("findaride")]),_:1})])])):(v(),y("div",S,[p("span",V,[d(o,{to:"/dashboard"},{default:f(()=>[c("findaride")]),_:1})])])),p("div",B,[d(o,{to:"/about"},{default:f(()=>[c("About")]),_:1}),c(" | "),d(o,{to:"/dashboard"},{default:f(()=>[c("Dashboard")]),_:1}),c(" | "),d(o,{to:"/profile"},{default:f(()=>[c("Profile")]),_:1})])])]),d(g,{class:"full-height"})])}const D=O(x,[["render",C]]),U="modulepreload",j=function(s){return"/static/"+s},b={},m=function(n,r,i){if(!r||r.length===0)return n();const t=document.getElementsByTagName("link");return Promise.all(r.map(e=>{if(e=j(e),e in b)return;b[e]=!0;const o=e.endsWith(".css"),g=o?'[rel="stylesheet"]':"";if(!!i)for(let u=t.length-1;u>=0;u--){const h=t[u];if(h.href===e&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${g}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":U,o||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),o)return new Promise((u,h)=>{a.addEventListener("load",u),a.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>n()).catch(e=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=e,window.dispatchEvent(o),!o.defaultPrevented)throw e})},z=[{path:"/",name:"home",component:()=>m(()=>import("./HomeView-64bee808.js"),["assets/HomeView-64bee808.js","assets/vendor-ef93eb73.js","assets/HomeView-e3cd28bc.css"])},{path:"/about/",name:"about",component:()=>m(()=>import("./AboutView-5390050a.js"),["assets/AboutView-5390050a.js","assets/vendor-ef93eb73.js","assets/AboutView-e8d30713.css"])},{path:"/profile/",name:"profile",component:()=>m(()=>import("./ProfileView-330f2e0d.js"),["assets/ProfileView-330f2e0d.js","assets/axios_service-799264dd.js","assets/vendor-ef93eb73.js","assets/ProfileView-f1392103.css"])},{path:"/dashboard/",name:"dashboard",component:()=>m(()=>import("./DashboardView-2aeec1c4.js"),["assets/DashboardView-2aeec1c4.js","assets/vendor-ef93eb73.js","assets/axios_service-799264dd.js","assets/DashboardView-ba59a742.css"])}];async function W(){const s=$.isLoggedIn;return(await L.get(s)).data.isAuthenticated}const F=["dashboard","profile"],w=P({history:R("/"),routes:z});w.beforeEach(async(s,n,r)=>{if(F.includes(s.name)){const t=await W();if(console.log(t),t)r();else{let e=`/accounts/login/?next=${encodeURIComponent(s.path)}`;window.location.href=e}}else r()});I(D).use(w).mount("#app");export{O as _,$ as e};
